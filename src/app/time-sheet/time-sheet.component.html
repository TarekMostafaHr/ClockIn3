<app-top-navbar>Time Clock</app-top-navbar>


<div class="copm-back">
  Filter by User
  <select (click)="activateUser()" [(ngModel)]="xUser"> 
      <option selected>All</option>
      <option *ngFor="let user of timesheetsDB">{{user.username}}</option>
  </select>
  &emsp;&emsp;&emsp;&emsp;&emsp;
  Filter by date
  <input (click)="activateDate()" [(ngModel)]="xDate" type="date"> 
  
  &emsp;&emsp;
  <a (click)="clearAll()">Clear Filters</a>

</div>

<div *ngIf="isEditTrue" class="copm-back">
  <form #myForms="ngForm" (ngSubmit)="onSubmit(myForms.value)">
    <label>username</label> &emsp;&emsp;&emsp;&emsp;
    From: &emsp; <input name="timein" [(ngModel)]="timeIn"> &emsp;&emsp;
    To: &emsp; <input name="timeout" [(ngModel)]="timeOut"> &emsp;&emsp;&emsp;&emsp;
    <button type="submit">Save</button>&emsp;
    <button (click)="onEditCancel()">Cancel</button>
  </form>

</div>

<!-- Large modal -- Khaled Jamal-->
<div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div>Just as example</div>
     
      <div class="modal-footer">
             
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>
<!-- Large modal -- Khaled Jamal-->


<div>
 <section class="copm-back" >
    <div >
      <p>
            <strong>{{ xDate ? (xDate | date: fullDate) : 'All Timesheets'}}</strong>
      </p>

      <br>
    </div>
    <table id="example" class="table table-hover">
      <thead></thead>
<tbody class="t-item" >

  <tr *ngFor="let shift of timesheetsDB | timeFilter: xUser : xDate; let i = index" data-toggle="modal" data-target=".bs-example-modal-lg">
    <!--<td> <label><input type="checkbox"  class=""></label> </td>-->
      <td >
        <div>
            <span><span class="glyphicon glyphicon-user" style="color: #CC66CC;padding-right: 11px;"></span></span> {{ shift.username }}
        </div>
    </td>

     <td>{{ shift.timein | date:'HH:mm' }}</td>

     <td *ngIf="shift.timeout"> {{shift.timeout  | date:'HH:mm'  }}</td>
     <td *ngIf="!shift.timeout"><button (click)="endShiftNow(shift.timein)">Edit shift</button> <td>
    <td> {{ shift.date | date: fullDate}} </td>
     <td> {{ CalcTime(shift.timein, shift.timeout ) }}</td>
     <td><button (click)="EditRef(i, shift.timein, shift.timeout)">Edit</button> </td>
     <td><button>Delete</button> </td>

    </tr>

</tbody>
</table>
 <td><button >Edit</button> </td>
                         
</section>
  </div>


<div  class="copm-back">
<app-add-shift></app-add-shift>
</div>
  <div  class="copm-back">
<app-editshift></app-editshift>
</div>


 

    
